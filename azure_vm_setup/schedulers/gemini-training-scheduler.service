[Unit]
Description=Harvey AI - Gemini Training Data Scheduler
After=network.target harvey-backend.service
Requires=network.target

[Service]
Type=simple
User=azureuser
Group=azureuser
WorkingDirectory=/home/azureuser/harvey
Environment="PATH=/home/azureuser/miniconda3/bin:/usr/local/bin:/usr/bin:/bin"
Environment="PYTHONPATH=/home/azureuser/harvey"
ExecStart=/home/azureuser/miniconda3/bin/python /home/azureuser/harvey/azure_vm_setup/schedulers/gemini_training_scheduler.py --mode scheduled
Restart=always
RestartSec=60
StandardOutput=append:/var/log/harvey/gemini_training.log
StandardError=append:/var/log/harvey/gemini_training_error.log

# Resource limits
MemoryLimit=1G
CPUQuota=50%

[Install]
WantedBy=multi-user.target
